//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table class_schedule {
  ClassID String [pk]
  TimeslotID String [not null]
  SubjectCode String [not null]
  RoomID Int
  GradeID String [not null]
  IsLocked Boolean [not null, default: false]
}

Table gradelevel {
  GradeID String [pk]
  Year Int [not null]
  Number Int [not null]
  StudentCount Int [not null, default: 0]
  ProgramID Int

  indexes {
    (Year, Number) [unique]
  }
}

Table room {
  RoomID Int [pk, increment]
  RoomName String [unique, not null]
  Building String [not null, default: '-']
  Floor String [not null, default: '-']
}

Table subject {
  SubjectCode String [pk]
  SubjectName String [not null]
  Credit subject_credit [not null]
  Category SubjectCategory [not null, default: 'CORE']
  LearningArea LearningArea
  ActivityType ActivityType
  IsGraded Boolean [not null, default: true]
  Description String
}

Table program {
  ProgramID Int [pk, increment]
  ProgramCode String [unique, not null]
  ProgramName String [not null]
  Year Int [not null]
  Track ProgramTrack [not null]
  Description String
  MinTotalCredits Float [not null, default: 0]
  IsActive Boolean [not null, default: true]

  indexes {
    (Year, Track) [unique]
  }
}

Table program_subject {
  ProgramSubjectID Int [pk, increment]
  ProgramID Int [not null]
  SubjectCode String [not null]
  Category SubjectCategory [not null]
  IsMandatory Boolean [not null, default: true]
  MinCredits Float [not null]
  MaxCredits Float
  SortOrder Int [not null, default: 0]

  indexes {
    (ProgramID, SubjectCode) [unique]
  }
}

Table teacher {
  TeacherID Int [pk, increment]
  Prefix String [not null]
  Firstname String [not null]
  Lastname String [not null]
  Department String [not null, default: '-']
  Email String [unique, not null]
  Role String [not null, default: 'teacher']
}

Table timeslot {
  TimeslotID String [pk]
  AcademicYear Int [not null]
  Semester semester [not null]
  StartTime DateTime [not null]
  EndTime DateTime [not null]
  Breaktime breaktime [not null]
  DayOfWeek day_of_week [not null]
}

Table teachers_responsibility {
  RespID Int [pk, increment]
  TeacherID Int [not null]
  GradeID String [not null]
  SubjectCode String [not null]
  AcademicYear Int [not null]
  Semester semester [not null]
  TeachHour Int [not null]
}

Table table_config {
  ConfigID String [pk]
  AcademicYear Int [not null]
  Semester semester [not null]
  Config Json [not null]
  status SemesterStatus [not null, default: 'DRAFT']
  publishedAt DateTime
  isPinned Boolean [not null, default: false]
  lastAccessedAt DateTime [default: `now()`, not null]
  configCompleteness Int [not null, default: 0]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [default: `now()`, not null]
}

Table User {
  id String [pk]
  name String
  email String [unique, not null]
  emailVerified DateTime
  image String
  password String
  role String [not null, default: 'user']
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table Account {
  userId String [not null]
  type String [not null]
  provider String [not null]
  providerAccountId String [not null]
  refresh_token String
  access_token String
  expires_at Int
  token_type String
  scope String
  id_token String
  session_state String
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]

  indexes {
    (provider, providerAccountId) [pk]
  }
}

Table Session {
  sessionToken String [unique, not null]
  userId String [not null]
  expires DateTime [not null]
  createdAt DateTime [default: `now()`, not null]
  updatedAt DateTime [not null]
}

Table VerificationToken {
  identifier String [not null]
  token String [not null]
  expires DateTime [not null]

  indexes {
    (identifier, token) [pk]
  }
}

Enum SemesterStatus {
  DRAFT
  PUBLISHED
  LOCKED
  ARCHIVED
}

Enum day_of_week {
  MON
  TUE
  WED
  THU
  FRI
  SAT
  SUN
}

Enum subject_credit {
  CREDIT_05
  CREDIT_10
  CREDIT_15
  CREDIT_20
}

Enum semester {
  SEMESTER_1
  SEMESTER_2
}

Enum breaktime {
  BREAK_JUNIOR
  BREAK_SENIOR
  BREAK_BOTH
  NOT_BREAK
}

Enum ProgramTrack {
  SCIENCE_MATH
  LANGUAGE_MATH
  LANGUAGE_ARTS
  GENERAL
}

Enum SubjectCategory {
  CORE
  ADDITIONAL
  ACTIVITY
}

Enum LearningArea {
  THAI
  MATHEMATICS
  SCIENCE
  SOCIAL
  HEALTH_PE
  ARTS
  CAREER
  FOREIGN_LANGUAGE
}

Enum ActivityType {
  CLUB
  SCOUT
  GUIDANCE
  SOCIAL_SERVICE
}

Ref: class_schedule.GradeID > gradelevel.GradeID [delete: Cascade]

Ref: class_schedule.RoomID > room.RoomID

Ref: class_schedule.SubjectCode > subject.SubjectCode [delete: Cascade]

Ref: class_schedule.TimeslotID > timeslot.TimeslotID [delete: Cascade]

Ref: gradelevel.ProgramID > program.ProgramID [delete: Set Null]

Ref: program_subject.ProgramID > program.ProgramID [delete: Cascade]

Ref: program_subject.SubjectCode > subject.SubjectCode [delete: Cascade]

Ref: teachers_responsibility.GradeID > gradelevel.GradeID [delete: Cascade]

Ref: teachers_responsibility.SubjectCode > subject.SubjectCode [delete: Cascade]

Ref: teachers_responsibility.TeacherID > teacher.TeacherID [delete: Cascade]

Ref: Account.userId > User.id [delete: Cascade]

Ref: Session.userId > User.id [delete: Cascade]