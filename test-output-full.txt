[dotenv@17.2.3] injecting env (11) from .env.test -- tip: ‡πê¬ü‚Äù¬ê encrypt with Dotenvx: https://dotenvx.com
SKIP_WEBSERVER: true
[dotenv@17.2.3] injecting env (0) from .env.test -- tip: ‡πê¬ü‚Äú‡∏Å add observability to secrets: https://dotenvx.com/ops
‡πê¬ü‚Äù¬ê Using AUTH_SECRET from .env.test (length=27)

‡πê¬ü‚Äù‡∏á E2E Test Setup: Initializing test environment...

‡πÇ¬ö¬†‡πè‡∏ò¬è  .env.local not found - run `node scripts/prepare-e2e-env.js` first

   AUTH_SECRET checksum: dGVzdGlu‡πÇ‚Ç¨‡∏Ü
‡πê¬ü¬ê‡∏ì Docker Compose lifecycle management: ENABLED

‡πÇ¬Ñ‡∏ô‡πè‡∏ò¬è  Test database is already running
   Reusing existing database instance

‡πê¬ü¬å‡∏ë Seeding test database...

‡πê¬ü‡∏á‡∏ô Cleared cached Playwright auth storage state
‡πê¬ü¬å‡∏ë Running test database seed with .env.test configuration...

> school-timetable@2.0.0 test:db:seed B:\Dev\school-timetable-senior-project
> dotenv -e .env.test -- tsx prisma/seed.ts

‡πê¬ü¬å‡∏ë Starting MOE-compliant seed with retry logic...
‡πê¬ü‚Äù‡∏á Connection: postgresql://test_user:test_password@127.0.0.1:543...
‡πê¬ü‚Äò‡∏Ñ Creating admin user...
‡πÇ¬Ñ‡∏ô‡πè‡∏ò¬è  Admin user already exists
‡πê¬ü‡∏á‡∏ä Test mode enabled - Seeding E2E test data...
‡πê¬ü‡∏á‡∏ô Cleaning existing data...
‡πê¬ü‚Äù¬ê Cleaning auth sessions for test mode...
‡πÇ¬ú‚Ä¶ Auth sessions cleaned
‡πÇ¬ú‚Ä¶ Timetable data cleaned (Auth.js tables preserved)
‡πê¬ü‚Äú¬ö Creating subjects with MOE 8 Learning Areas...
‡πÇ¬ú‚Ä¶ Created 82 subjects (48 core + 25 additional + 9 activities)
‡πê¬ü¬é‚Äú Creating programs...
‡πÇ¬ú‚Ä¶ Created 18 programs (3 tracks ‡∏£‚Äî 6 years)
‡πê¬ü¬è‡∏ã Creating grade levels with program assignments...
‡πÇ¬ú‚Ä¶ Created 18 grade levels with program assignments
‡πê¬ü¬ö‡∏ä Creating rooms...
‡πÇ¬ú‚Ä¶ Created 40 rooms across 3 buildings
‡πê¬ü‚Äò‡∏à‡πÇ‚Ç¨¬ç‡πê¬ü¬è‡∏ã Creating teachers (target: 40)...
‡πÇ¬ú‚Ä¶ Created 40 teachers across 8 departments
‡πÇ¬è‡∏ê Creating timeslots...
‡πÇ¬ú‚Ä¶ Created 40 timeslots for Semester 1 (5 days ‡∏£‚Äî 8 periods)
‡πÇ¬è‡∏ê Creating timeslots for Semester 2...
‡πÇ¬ú‚Ä¶ Created 40 timeslots for Semester 2 (5 days ‡∏£‚Äî 8 periods)
‡πÇ¬ö¬ô‡πè‡∏ò¬è  Creating timetable configuration...
‡πÇ¬ú‚Ä¶ Created timetable configuration
‡πê¬ü‚Äù‚Äî Assigning subjects to M.1 programs...
‡πÇ¬ú‚Ä¶ Assigned 14 subjects to M.1 Science-Math program
‡πÇ¬Ñ‡∏ô‡πè‡∏ò¬è  Other programs can be populated similarly via the UI or additional seed logic
‡πê¬ü‚Äú¬ù Creating sample teacher responsibilities...
‡πÇ¬ú‚Ä¶ Created 21 sample teacher responsibilities
‡πê¬ü‚Äú‚Ä¶ Creating sample locked schedules for activities...
‡πÇ¬ú‚Ä¶ Created 0 sample locked schedules

======================================================================
‡πê¬ü¬é¬â MOE-Compliant Seed Completed Successfully!
======================================================================
‡πê¬ü‚Äú¬ä Database Summary:
   ‡πÇ‚Ç¨‡∏Ç Programs: 18 (3 tracks ‡∏£‚Äî 6 years)
   ‡πÇ‚Ç¨‡∏Ç Grade Levels: 18 (M.1-M.6, 3 sections each)
   ‡πÇ‚Ç¨‡∏Ç Rooms: 40 (3 buildings)
   ‡πÇ‚Ç¨‡∏Ç Teachers: 40 (8 departments; target 40 met)
   ‡πÇ‚Ç¨‡∏Ç Subjects: 82 subjects
     - Core (8 learning areas): 48
     - Additional (track-specific): 25
     - Activities (MOE-compliant): 9
   ‡πÇ‚Ç¨‡∏Ç Timeslots: 80 (Semester 1: 40, Semester 2: 40)
   ‡πÇ‚Ç¨‡∏Ç Teacher Responsibilities: 21
   ‡πÇ‚Ç¨‡∏Ç Sample Locked Schedules: 0
   ‡πÇ‚Ç¨‡∏Ç Table Configurations: 1
======================================================================

‡πÇ¬ú‡∏à Your MOE-compliant database is ready!
‡πê¬ü‚Äô‡∏Å Features included:
   - ‡πÇ¬ú‚Ä¶ Retry logic for Docker Desktop connection stability
   - ‡πÇ¬ú‚Ä¶ MOE 8 Learning Areas structure
   - ‡πÇ¬ú‚Ä¶ Proper ActivityType (‡πÄ‡∏ò¬ä‡πÄ‡∏ò‡∏ò‡πÄ‡∏ò‡∏Å‡πÄ‡∏ò¬ô‡πÄ‡∏ò‡∏ò‡πÄ‡∏ò‡∏Å, ‡πÄ‡∏ò‡∏Ö‡πÄ‡∏ò‡∏ô‡πÄ‡∏ò¬Å‡πÄ‡∏ô‚Ç¨‡πÄ‡∏ò‡∏ä‡πÄ‡∏ò‡∏ó‡πÄ‡∏ò‡∏ç, ‡πÄ‡∏ô¬Å‡πÄ‡∏ò¬ô‡πÄ‡∏ò‡∏ê‡πÄ‡∏ô¬Å‡πÄ‡∏ò¬ô‡πÄ‡∏ò‡∏á, ‡πÄ‡∏ò¬Å‡πÄ‡∏ò‡∏î‡πÄ‡∏ò¬à‡πÄ‡∏ò¬Å‡πÄ‡∏ò‡∏É‡πÄ‡∏ò‡∏É‡πÄ‡∏ò‡∏Å‡πÄ‡∏ô‚Ç¨‡πÄ‡∏ò¬û‡πÄ‡∏ò‡∏ó‡πÄ‡∏ô¬à‡πÄ‡∏ò‡∏ç‡πÄ‡∏ò‡∏ä‡πÄ‡∏ò‡∏ë‡πÄ‡∏ò¬á‡πÄ‡∏ò¬Ñ‡πÄ‡∏ò‡∏Å)
   - ‡πÇ¬ú‚Ä¶ Three program tracks (‡πÄ‡∏ò‡∏á‡πÄ‡∏ò‡∏î‡πÄ‡∏ò‚Äî‡πÄ‡∏ò‡∏Ç‡πÄ‡∏ô¬å-‡πÄ‡∏ò¬Ñ‡πÄ‡∏ò‚Äú‡πÄ‡∏ò‡∏î‡πÄ‡∏ò‚Ä¢, ‡πÄ‡∏ò‡∏à‡πÄ‡∏ò‡∏î‡πÄ‡∏ò‡∏Ö‡πÄ‡∏ò¬õ‡πÄ‡∏ô¬å-‡πÄ‡∏ò¬Ñ‡πÄ‡∏ò‡∏ì‡πÄ‡∏ò¬ô‡πÄ‡∏ò‡∏á‡πÄ‡∏ò‚Äú, ‡πÄ‡∏ò‡∏à‡πÄ‡∏ò‡∏î‡πÄ‡∏ò‡∏Ö‡πÄ‡∏ò¬õ‡πÄ‡∏ô¬å-‡πÄ‡∏ò¬†‡πÄ‡∏ò‡∏í‡πÄ‡∏ò‡∏â‡πÄ‡∏ò‡∏í)
   - ‡πÇ¬ú‚Ä¶ Realistic teacher workload (1-3 subjects per Ministry standard)
   - ‡πÇ¬ú‚Ä¶ Locked timeslots for school-wide activities
   - ‡πÇ¬ú‚Ä¶ Grade-program assignments
======================================================================

‡πÇ¬ú‚Ä¶ Test environment ready!

   Database: postgresql://localhost:5433/test_timetable
   Tests: 27 E2E tests ready to run

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\01-home-page.spec.ts: Missing semicolon. (37:84)

[0m [90m 35 |[39m [32m  });[39m
 [90m 36 |[39m [32m[39m
[31m[1m>[22m[39m[90m 37 |[39m [32m  test('TC-001-02: Sign-in page is accessible', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                     [31m[1m^[22m[39m
 [90m 38 |[39m     [90m// Navigate to sign-in page[39m
 [90m 39 |[39m     [36mawait[39m page[33m.[39mgoto([32m'/signin'[39m)[33m;[39m
 [90m 40 |[39m     [0m

   at 01-home-page.spec.ts:37

  35 |   });
  36 | 
> 37 |   test('TC-001-02: Sign-in page is accessible', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                    ^
  38 |     // Navigate to sign-in page
  39 |     await page.goto('/signin');
  40 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\02-data-management.spec.ts: Missing semicolon. (46:96)

[0m [90m 44 |[39m [32m  });[39m
 [90m 45 |[39m [32m[39m
[31m[1m>[22m[39m[90m 46 |[39m [32m  test('TC-003-02: Teacher Management - Add button exists', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                 [31m[1m^[22m[39m
 [90m 47 |[39m     [36mawait[39m nav[33m.[39mgoToTeacherManagement()[33m;[39m
 [90m 48 |[39m     
 [90m 49 |[39m     [90m// Look for add/create button[39m[0m

   at 02-data-management.spec.ts:46

  44 |   });
  45 | 
> 46 |   test('TC-003-02: Teacher Management - Add button exists', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                ^
  47 |     await nav.goToTeacherManagement();
  48 |     
  49 |     // Look for add/create button

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\03-schedule-config.spec.ts: Missing semicolon. (36:86)

[0m [90m 34 |[39m [32m  });[39m
 [90m 35 |[39m [32m[39m
[31m[1m>[22m[39m[90m 36 |[39m [32m  test('TC-007-02: Configuration page structure', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                       [31m[1m^[22m[39m
 [90m 37 |[39m     [90m// Try a sample semester format (adjust based on actual format)[39m
 [90m 38 |[39m     [36mconst[39m sampleSemester [33m=[39m [32m'1-2567'[39m[33m;[39m [90m// Semester 1, Year 2567[39m
 [90m 39 |[39m     [0m

   at 03-schedule-config.spec.ts:36

  34 |   });
  35 | 
> 36 |   test('TC-007-02: Configuration page structure', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                      ^
  37 |     // Try a sample semester format (adjust based on actual format)
  38 |     const sampleSemester = '1-2567'; // Semester 1, Year 2567
  39 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\04-timetable-arrangement.spec.ts: Missing semicolon. (48:82)

[0m [90m 46 |[39m [32m  });[39m
 [90m 47 |[39m [32m[39m
[31m[1m>[22m[39m[90m 48 |[39m [32m  test('TC-010-02: Timetable grid structure', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                   [31m[1m^[22m[39m
 [90m 49 |[39m     [36mconst[39m sampleSemester [33m=[39m [32m'1-2567'[39m[33m;[39m
 [90m 50 |[39m     
 [90m 51 |[39m     [36mtry[39m {[0m

   at 04-timetable-arrangement.spec.ts:48

  46 |   });
  47 | 
> 48 |   test('TC-010-02: Timetable grid structure', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                  ^
  49 |     const sampleSemester = '1-2567';
  50 |     
  51 |     try {

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\05-viewing-exports.spec.ts: Missing semicolon. (48:93)

[0m [90m 46 |[39m [32m  });[39m
 [90m 47 |[39m [32m[39m
[31m[1m>[22m[39m[90m 48 |[39m [32m  test('TC-017-02: Teacher schedule displays timetable', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                              [31m[1m^[22m[39m
 [90m 49 |[39m     [36mconst[39m sampleSemester [33m=[39m [32m'1-2567'[39m[33m;[39m
 [90m 50 |[39m     
 [90m 51 |[39m     [36mtry[39m {[0m

   at 05-viewing-exports.spec.ts:48

  46 |   });
  47 | 
> 48 |   test('TC-017-02: Teacher schedule displays timetable', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                             ^
  49 |     const sampleSemester = '1-2567';
  50 |     
  51 |     try {

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\06-public-homepage.spec.ts: Missing semicolon. (25:79)

[0m [90m 23 |[39m [32m  });[39m
 [90m 24 |[39m [32m[39m
[31m[1m>[22m[39m[90m 25 |[39m [32m  test("should display quick stats cards", async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                [31m[1m^[22m[39m
 [90m 26 |[39m     [36mawait[39m page[33m.[39mgoto([32m"/"[39m)[33m;[39m
 [90m 27 |[39m     
 [90m 28 |[39m     [90m// Wait for stats to load with web-first assertion[39m[0m

   at 06-public-homepage.spec.ts:25

  23 |   });
  24 | 
> 25 |   test("should display quick stats cards", async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                               ^
  26 |     await page.goto("/");
  27 |     
  28 |     // Wait for stats to load with web-first assertion

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\06-refactored-teacher-arrange.spec.ts: Missing semicolon. (32:32)

[0m [90m 30 |[39m   test([32m'E2E-001: Page loads without errors'[39m[33m,[39m [36masync[39m ({ authenticatedAdmin }) [33m=>[39m {[32m`n    const { page } = authenticatedAdmin;[39m
 [90m 31 |[39m [32m    // Navigate to teacher arrange page with teacher ID[39m
[31m[1m>[22m[39m[90m 32 |[39m [32m    await page.goto(`[39m[33m/[39mschedule[33m/[39m${[33mSEMESTER[39m}[33m/[39marrange[33m/[39mteacher[33m-[39marrange[33m?[39m[33mTeacherID[39m[33m=[39m${[33mTEACHER_ID[39m}[32m`);[39m
 [90m    |[39m                                 [31m[1m^[22m[39m
 [90m 33 |[39m [32m[39m
 [90m 34 |[39m [32m    // Check for no console errors (except expected warnings)[39m
 [90m 35 |[39m [32m    const errors: string[] = [];[39m[0m

   at 06-refactored-teacher-arrange.spec.ts:32

  30 |   test('E2E-001: Page loads without errors', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
  31 |     // Navigate to teacher arrange page with teacher ID
> 32 |     await page.goto(`/schedule/${SEMESTER}/arrange/teacher-arrange?TeacherID=${TEACHER_ID}`);
     |                                ^
  33 | 
  34 |     // Check for no console errors (except expected warnings)
  35 |     const errors: string[] = [];

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\07-server-component-migration.spec.ts: Missing semicolon. (45:113)

[0m [90m 43 |[39m [32m  });[39m
 [90m 44 |[39m [32m[39m
[31m[1m>[22m[39m[90m 45 |[39m [32m  test('TC-007-02: Teacher data appears in initial HTML (SSR verification)', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                                  [31m[1m^[22m[39m
 [90m 46 |[39m     [90m// This test verifies that teacher data is in the initial HTML response[39m
 [90m 47 |[39m     [90m// (Server-Side Rendered), not fetched client-side[39m
 [90m 48 |[39m     [0m

   at 07-server-component-migration.spec.ts:45

  43 |   });
  44 | 
> 45 |   test('TC-007-02: Teacher data appears in initial HTML (SSR verification)', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                                 ^
  46 |     // This test verifies that teacher data is in the initial HTML response
  47 |     // (Server-Side Rendered), not fetched client-side
  48 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\08-drag-and-drop.spec.ts: Missing semicolon. (140:13)

[0m [90m 138 |[39m [32m    [39m
 [90m 139 |[39m [32m    await page.screenshot({ [39m
[31m[1m>[22m[39m[90m 140 |[39m [32m      path: `[39m${[33mSCREENSHOT_DIR[39m}[33m/[39m[35m01[39m[33m-[39msubject[33m-[39mitems[33m-[39mdraggable[33m.[39mpng[32m`,[39m
 [90m     |[39m              [31m[1m^[22m[39m
 [90m 141 |[39m [32m      fullPage: true [39m
 [90m 142 |[39m [32m    });[39m
 [90m 143 |[39m [32m    [39m[0m

   at 08-drag-and-drop.spec.ts:140

  138 |     
  139 |     await page.screenshot({ 
> 140 |       path: `${SCREENSHOT_DIR}/01-subject-items-draggable.png`,
      |             ^
  141 |       fullPage: true 
  142 |     });
  143 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\09-program-management.spec.ts: Missing semicolon. (49:102)

[0m [90m 47 |[39m [32m  });[39m
 [90m 48 |[39m [32m[39m
[31m[1m>[22m[39m[90m 49 |[39m [32m  test('TC-PROG-002: Navigate through all year levels (M.1-M.6)', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                       [31m[1m^[22m[39m
 [90m 50 |[39m     [36mfor[39m ([36mlet[39m year [33m=[39m [35m1[39m[33m;[39m year [33m<=[39m [35m6[39m[33m;[39m year[33m++[39m) {
 [90m 51 |[39m       [36mawait[39m page[33m.[39mgoto([32m`/management/program/${year}`[39m)[33m;[39m
 [90m 52 |[39m       [36mawait[39m page[33m.[39mwaitForLoadState([32m'domcontentloaded'[39m)[33m;[39m[0m

   at 09-program-management.spec.ts:49

  47 |   });
  48 | 
> 49 |   test('TC-PROG-002: Navigate through all year levels (M.1-M.6)', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                      ^
  50 |     for (let year = 1; year <= 6; year++) {
  51 |       await page.goto(`/management/program/${year}`);
  52 |       await page.waitForLoadState('domcontentloaded');

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\10-program-subject-assignment.spec.ts: Missing semicolon. (110:82)

[0m [90m 108 |[39m [32m  });[39m
 [90m 109 |[39m [32m[39m
[31m[1m>[22m[39m[90m 110 |[39m [32m  test('should assign program to gradelevel', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m     |[39m                                                                                   [31m[1m^[22m[39m
 [90m 111 |[39m     [36mawait[39m test[33m.[39mstep([32m'Navigate to gradelevel management'[39m[33m,[39m [36masync[39m () [33m=>[39m {
 [90m 112 |[39m       [36mawait[39m page[33m.[39mgoto([32m'/management/gradelevel'[39m)[33m;[39m
 [90m 113 |[39m       [0m

   at 10-program-subject-assignment.spec.ts:110

  108 |   });
  109 | 
> 110 |   test('should assign program to gradelevel', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
      |                                                                                  ^
  111 |     await test.step('Navigate to gradelevel management', async () => {
  112 |       await page.goto('/management/gradelevel');
  113 |       

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\11-activity-management.spec.ts: Missing semicolon. (85:81)

[0m [90m 83 |[39m [32m  });[39m
 [90m 84 |[39m [32m[39m
[31m[1m>[22m[39m[90m 85 |[39m [32m  test('TC-ACT-002: Edit existing activity', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                  [31m[1m^[22m[39m
 [90m 86 |[39m     [36mawait[39m test[33m.[39mstep([32m'Create activity first'[39m[33m,[39m [36masync[39m () [33m=>[39m {
 [90m 87 |[39m       [90m// Quick create for editing test[39m
 [90m 88 |[39m       [36mconst[39m addButton [33m=[39m page[33m.[39mgetByRole([32m'button'[39m[33m,[39m { name[33m:[39m [35m/add.*activity/i[39m })[33m;[39m[0m

   at 11-activity-management.spec.ts:85

  83 |   });
  84 | 
> 85 |   test('TC-ACT-002: Edit existing activity', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                 ^
  86 |     await test.step('Create activity first', async () => {
  87 |       // Quick create for editing test
  88 |       const addButton = page.getByRole('button', { name: /add.*activity/i });

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\13-bulk-lock.spec.ts: Missing semicolon. (23:94)

[0m [90m 21 |[39m [32m  });[39m
 [90m 22 |[39m [32m[39m
[31m[1m>[22m[39m[90m 23 |[39m [32m  test("should open bulk lock modal when button clicked", async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                               [31m[1m^[22m[39m
 [90m 24 |[39m     [36mawait[39m page[33m.[39mgoto([32m"/schedule/1-2567/lock"[39m)[33m;[39m
 [90m 25 |[39m     [90m// ‡πÇ¬ö¬†‡πè‡∏ò¬è TODO: Replace with web-first assertion: await expect(page.locator("selector")).toBeVisible();[39m
 [90m 26 |[39m[0m

   at 13-bulk-lock.spec.ts:23

  21 |   });
  22 | 
> 23 |   test("should open bulk lock modal when button clicked", async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                              ^
  24 |     await page.goto("/schedule/1-2567/lock");
  25 |     // ‡πÇ¬ö¬†‡πè‡∏ò¬è TODO: Replace with web-first assertion: await expect(page.locator("selector")).toBeVisible();
  26 |

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\14-lock-templates.spec.ts: Missing semicolon. (23:94)

[0m [90m 21 |[39m [32m  });[39m
 [90m 22 |[39m [32m[39m
[31m[1m>[22m[39m[90m 23 |[39m [32m  test("should open templates modal when button clicked", async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                               [31m[1m^[22m[39m
 [90m 24 |[39m     [36mawait[39m page[33m.[39mgoto([32m"/schedule/1-2567/lock"[39m)[33m;[39m
 [90m 25 |[39m     [90m// ‡πÇ¬ö¬†‡πè‡∏ò¬è TODO: Replace with web-first assertion: await expect(page.locator("selector")).toBeVisible();[39m
 [90m 26 |[39m[0m

   at 14-lock-templates.spec.ts:23

  21 |   });
  22 | 
> 23 |   test("should open templates modal when button clicked", async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                              ^
  24 |     await page.goto("/schedule/1-2567/lock");
  25 |     // ‡πÇ¬ö¬†‡πè‡∏ò¬è TODO: Replace with web-first assertion: await expect(page.locator("selector")).toBeVisible();
  26 |

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\14-security-pii-exposure.spec.ts: Missing semicolon. (42:110)

[0m [90m 40 |[39m [32m  });[39m
 [90m 41 |[39m [32m[39m
[31m[1m>[22m[39m[90m 42 |[39m [32m  test('TC-SEC-002: Teacher list page should not expose email addresses', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                               [31m[1m^[22m[39m
 [90m 43 |[39m     [36mawait[39m page[33m.[39mgoto([32m'/?tab=teachers'[39m)[33m;[39m
 [90m 44 |[39m     [36mawait[39m expect(page[33m.[39mlocator([32m'main, [role="main"], body'[39m))[33m.[39mtoBeVisible({ timeout[33m:[39m [35m10000[39m })[33m;[39m
 [90m 45 |[39m     [0m

   at 14-security-pii-exposure.spec.ts:42

  40 |   });
  41 | 
> 42 |   test('TC-SEC-002: Teacher list page should not expose email addresses', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                              ^
  43 |     await page.goto('/?tab=teachers');
  44 |     await expect(page.locator('main, [role="main"], body')).toBeVisible({ timeout: 10000 });
  45 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\15-pdf-customization.spec.ts: Missing semicolon. (379:89)

[0m [90m 377 |[39m [32m  });[39m
 [90m 378 |[39m [32m[39m
[31m[1m>[22m[39m[90m 379 |[39m [32m  test('TC-099-16: Export with all options enabled', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m     |[39m                                                                                          [31m[1m^[22m[39m
 [90m 380 |[39m     [36mconst[39m teacherTablePO [33m=[39m [36mnew[39m [33mTeacherTablePO[39m(page)[33m;[39m
 [90m 381 |[39m     [36mconst[39m pdfDialogPO [33m=[39m [36mnew[39m [33mPDFCustomizationDialogPO[39m(page)[33m;[39m
 [90m 382 |[39m     [0m

   at 15-pdf-customization.spec.ts:379

  377 |   });
  378 | 
> 379 |   test('TC-099-16: Export with all options enabled', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
      |                                                                                         ^
  380 |     const teacherTablePO = new TeacherTablePO(page);
  381 |     const pdfDialogPO = new PDFCustomizationDialogPO(page);
  382 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\16-publish-gate.spec.ts: Unterminated template. (12:98)

[0m [90m 10 |[39m
 [90m 11 |[39m test[33m.[39mdescribe([32m'Publish Gate'[39m[33m,[39m () [33m=>[39m {
[31m[1m>[22m[39m[90m 12 |[39m   test([32m'should prevent publishing of an incomplete semester'[39m[33m,[39m [36masync[39m ({ authenticatedAdmin }) [33m=>[39m {[32m`n    const { page } = authenticatedAdmin;[39m
 [90m    |[39m                                                                                                   [31m[1m^[22m[39m
 [90m 13 |[39m [32m    const arrangePage = new ArrangePage(page);[39m
 [90m 14 |[39m [32m    await arrangePage.goto('1-2567');[39m
 [90m 15 |[39m [32m    [39m[0m

   at 16-publish-gate.spec.ts:12

  10 |
  11 | test.describe('Publish Gate', () => {
> 12 |   test('should prevent publishing of an incomplete semester', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                  ^
  13 |     const arrangePage = new ArrangePage(page);
  14 |     await arrangePage.goto('1-2567');
  15 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\admin-auth-flow.spec.ts: Missing semicolon. (35:97)

[0m [90m 33 |[39m [32m  });[39m
 [90m 34 |[39m [32m[39m
[31m[1m>[22m[39m[90m 35 |[39m [32m  test('should successfully sign in with admin credentials', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                  [31m[1m^[22m[39m
 [90m 36 |[39m     [90m// Fill in credentials[39m
 [90m 37 |[39m     [36mawait[39m page[33m.[39mgetByLabel([32m'‡πÄ‡∏ò‡∏ç‡πÄ‡∏ò‡∏ï‡πÄ‡∏ô‚Ç¨‡πÄ‡∏ò‡∏Å‡πÄ‡∏ò‡∏Ö'[39m)[33m.[39mfill([32m'admin@school.local'[39m)[33m;[39m
 [90m 38 |[39m     [36mawait[39m page[33m.[39mgetByLabel([32m'‡πÄ‡∏ò‡∏É‡πÄ‡∏ò‡∏ã‡πÄ‡∏ò‡∏ë‡πÄ‡∏ò‡∏ä‡πÄ‡∏ò¬ú‡πÄ‡∏ô¬à‡πÄ‡∏ò‡∏í‡πÄ‡∏ò¬ô'[39m)[33m.[39mfill([32m'admin123'[39m)[33m;[39m[0m

   at admin-auth-flow.spec.ts:35

  33 |   });
  34 | 
> 35 |   test('should successfully sign in with admin credentials', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                 ^
  36 |     // Fill in credentials
  37 |     await page.getByLabel('‡πÄ‡∏ò‡∏ç‡πÄ‡∏ò‡∏ï‡πÄ‡∏ô‚Ç¨‡πÄ‡∏ò‡∏Å‡πÄ‡∏ò‡∏Ö').fill('admin@school.local');
  38 |     await page.getByLabel('‡πÄ‡∏ò‡∏É‡πÄ‡∏ò‡∏ã‡πÄ‡∏ò‡∏ë‡πÄ‡∏ò‡∏ä‡πÄ‡∏ò¬ú‡πÄ‡∏ô¬à‡πÄ‡∏ò‡∏í‡πÄ‡∏ò¬ô').fill('admin123');

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\analytics-dashboard.spec.ts: Missing semicolon. (64:80)

[0m [90m 62 |[39m [32m  });[39m
 [90m 63 |[39m [32m[39m
[31m[1m>[22m[39m[90m 64 |[39m [32m  test('should show analytics page header', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                 [31m[1m^[22m[39m
 [90m 65 |[39m     [36mawait[39m page[33m.[39mgoto([32m'/dashboard/1-2567/analytics'[39m)[33m;[39m
 [90m 66 |[39m     
 [90m 67 |[39m     [90m// Should have page title[39m[0m

   at analytics-dashboard.spec.ts:64

  62 |   });
  63 | 
> 64 |   test('should show analytics page header', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                ^
  65 |     await page.goto('/dashboard/1-2567/analytics');
  66 |     
  67 |     // Should have page title

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\dashboard.spec.ts: Missing semicolon. (20:88)

[0m [90m 18 |[39m [32m  });[39m
 [90m 19 |[39m [32m[39m
[31m[1m>[22m[39m[90m 20 |[39m [32m  test("should load dashboard with valid semester", async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                         [31m[1m^[22m[39m
 [90m 21 |[39m     [90m// Navigate to a valid semester (use current academic year)[39m
 [90m 22 |[39m     [36mawait[39m page[33m.[39mgoto([32m"/dashboard/1-2567"[39m)[33m;[39m
 [90m 23 |[39m     [0m

   at dashboard.spec.ts:20

  18 |   });
  19 | 
> 20 |   test("should load dashboard with valid semester", async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                        ^
  21 |     // Navigate to a valid semester (use current academic year)
  22 |     await page.goto("/dashboard/1-2567");
  23 |     

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\public-data-api.spec.ts: Missing semicolon. (40:97)

[0m [90m 38 |[39m [32m  });[39m
 [90m 39 |[39m [32m[39m
[31m[1m>[22m[39m[90m 40 |[39m [32m  test('should not expose email addresses (PII protection)', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                  [31m[1m^[22m[39m
 [90m 41 |[39m     [90m// Navigate to homepage and switch to teachers tab[39m
 [90m 42 |[39m     [36mawait[39m page[33m.[39mgoto([32m'/'[39m)[33m;[39m
 [90m 43 |[39m     [36mawait[39m page[33m.[39mgetByTestId([32m'teachers-tab'[39m)[33m.[39mclick()[33m;[39m[0m

   at public-data-api.spec.ts:40

  38 |   });
  39 | 
> 40 |   test('should not expose email addresses (PII protection)', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                 ^
  41 |     // Navigate to homepage and switch to teachers tab
  42 |     await page.goto('/');
  43 |     await page.getByTestId('teachers-tab').click();

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\public-schedule-pages.spec.ts: Missing semicolon. (33:98)

[0m [90m 31 |[39m [32m  });[39m
 [90m 32 |[39m [32m[39m
[31m[1m>[22m[39m[90m 33 |[39m [32m  test('should display timetable grid with days and periods', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                   [31m[1m^[22m[39m
 [90m 34 |[39m     [36mawait[39m page[33m.[39mgoto([32m'/teachers/1/1-2567'[39m)[33m;[39m
 [90m 35 |[39m     
 [90m 36 |[39m     [90m// Wait for main content to be visible (Next.js streams; no networkidle)[39m[0m

   at public-schedule-pages.spec.ts:33

  31 |   });
  32 | 
> 33 |   test('should display timetable grid with days and periods', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                                  ^
  34 |     await page.goto('/teachers/1/1-2567');
  35 |     
  36 |     // Wait for main content to be visible (Next.js streams; no networkidle)

SyntaxError: B:\Dev\school-timetable-senior-project\e2e\teacher-arrange-store-migration.spec.ts: Missing semicolon. (55:95)

[0m [90m 53 |[39m [32m    });[39m
 [90m 54 |[39m [32m[39m
[31m[1m>[22m[39m[90m 55 |[39m [32m    test('should persist selected teacher on page reload', async ({ authenticatedAdmin }) => {`[39mn    [36mconst[39m { page } [33m=[39m authenticatedAdmin[33m;[39m
 [90m    |[39m                                                                                                [31m[1m^[22m[39m
 [90m 56 |[39m       [90m// Select a teacher[39m
 [90m 57 |[39m       [36mconst[39m teacherSelect [33m=[39m page[33m.[39mgetByRole([32m'combobox'[39m[33m,[39m { name[33m:[39m [35m/‡πÄ‡∏ô‚Ç¨‡πÄ‡∏ò‡∏Ö‡πÄ‡∏ò‡∏ó‡πÄ‡∏ò‡∏ç‡πÄ‡∏ò¬Å‡πÄ‡∏ò¬Ñ‡πÄ‡∏ò‡∏É‡πÄ‡∏ò‡∏ô|teacher/i[39m })[33m.[39mfirst()[33m;[39m
 [90m 58 |[39m       [36mawait[39m teacherSelect[33m.[39mclick()[33m;[39m[0m

   at teacher-arrange-store-migration.spec.ts:55

  53 |     });
  54 | 
> 55 |     test('should persist selected teacher on page reload', async ({ authenticatedAdmin }) => {`n    const { page } = authenticatedAdmin;
     |                                                                                               ^
  56 |       // Select a teacher
  57 |       const teacherSelect = page.getByRole('combobox', { name: /‡πÄ‡∏ô‚Ç¨‡πÄ‡∏ò‡∏Ö‡πÄ‡∏ò‡∏ó‡πÄ‡∏ò‡∏ç‡πÄ‡∏ò¬Å‡πÄ‡∏ò¬Ñ‡πÄ‡∏ò‡∏É‡πÄ‡∏ò‡∏ô|teacher/i }).first();
  58 |       await teacherSelect.click();


‡πê¬ü‡∏á‡∏ô E2E Test Teardown: Cleaning up...

‡πÇ¬Ñ‡∏ô‡πè‡∏ò¬è  Test database managed externally - skipping cleanup

[1A[2K
