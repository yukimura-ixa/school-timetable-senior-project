
> school-timetable@2.0.0 test:e2e B:\Dev\school-timetable-senior-project
> node scripts/run-e2e-tests.mjs "e2e/tests/admin/schedule-assignment.spec.ts:71" "--project=chromium"

[36m
เนยยโฌ E2E Test Runner with Automatic Database Management
[0m
[90mเนยเธเนเธย  Test database is already running[0m
[90m   Reusing existing instance
[0m
[36m
เนยยเธ Starting Playwright tests...
[0m
[dotenv@17.2.3] injecting env (11) from .env.test -- tip: เนยยเนเธย  override existing env vars with { override: true }
[2m[WebServer] [22m
[2m[WebServer] [22m> school-timetable@2.0.0 dev:e2e B:\Dev\school-timetable-senior-project
[2m[WebServer] [22m> dotenv -e .env.test -- next dev -p 3000
[2m[WebServer] [22m
[2m[WebServer] [22m   [1m[38;2;173;127;168mเนโเธ Next.js 16.0.1[39m[22m (Turbopack)
[2m[WebServer] [22m   - Local:        http://localhost:3000
[2m[WebServer] [22m   - Network:      http://192.168.254.1:3000
[2m[WebServer] [22m   - Environments: .env
[2m[WebServer] [22m
[2m[WebServer] [22m [32m[1mเนยโ[22m[39m Starting...
[2m[WebServer] [22m [32m[1mเนยโ[22m[39m Ready in 3.4s
[2m[WebServer] [22m [37m[1mเนโย[22m[39m Compiling / ...
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[dotenv@17.2.3] injecting env (0) from .env.test -- tip: เนยยยเนเธย  run anywhere with `dotenvx run -- yourcommand`
เนยโย Using AUTH_SECRET from .env.test (length=27)

เนยโเธ E2E Test Setup: Initializing test environment...

เนยยเนเธย  .env.local not found - run `node scripts/prepare-e2e-env.js` first

   AUTH_SECRET checksum: dGVzdGluเนโฌเธ
เนยยเธ Docker Compose lifecycle management: ENABLED

เนยเธเนเธย  Test database is already running
   Reusing existing database instance

เนยยเธ Seeding test database...

เนยเธเธ Cleared cached Playwright auth storage state
เนยยเธ Running test database seed with .env.test configuration...

> school-timetable@2.0.0 test:db:seed B:\Dev\school-timetable-senior-project
> dotenv -e .env.test -- tsx prisma/seed.ts

เนยยเธ Starting MOE-compliant seed with retry logic...
เนยโเธ Connection: postgresql://test_user:test_password@127.0.0.1:543...
เนยโเธ Creating admin user...
เนยเธเนเธย  Admin user already exists
เนยเธเธ Test mode enabled - Seeding E2E test data...
เนยเธเธ Cleaning existing data...
เนยโย Cleaning auth sessions for test mode...
เนยโฆ Auth sessions cleaned
เนยโฆ Timetable data cleaned (Auth.js tables preserved)
เนยโย Creating subjects with MOE 8 Learning Areas...
เนยโฆ Created 82 subjects (48 core + 25 additional + 9 activities)
เนยยโ Creating programs...
เนยโฆ Created 18 programs (3 tracks เธฃโ 6 years)
เนยยเธ Creating grade levels with program assignments...
เนยโฆ Created 18 grade levels with program assignments
เนยยเธ Creating rooms...
เนยโฆ Created 40 rooms across 3 buildings
เนยโเธเนโฌยเนยยเธ Creating teachers...
เนยโฆ Created 56 teachers across 8 departments
เนยเธ Creating timeslots...
เนยโฆ Created 40 timeslots (5 days เธฃโ 8 periods)
เนยยเนเธย  Creating timetable configuration...
เนยโฆ Created timetable configuration
เนยโโ Assigning subjects to M.1 programs...
เนยโฆ Assigned 14 subjects to M.1 Science-Math program
เนยเธเนเธย  Other programs can be populated similarly via the UI or additional seed logic
เนยโย Creating sample teacher responsibilities...
เนยโฆ Created 24 sample teacher responsibilities
เนยโโฆ Creating sample locked schedules for activities...
เนยโฆ Created 0 sample locked schedules

======================================================================
เนยยย MOE-Compliant Seed Completed Successfully!
======================================================================
เนยโย Database Summary:
   เนโฌเธ Programs: 18 (3 tracks เธฃโ 6 years)
   เนโฌเธ Grade Levels: 18 (M.1-M.6, 3 sections each)
   เนโฌเธ Rooms: 40 (3 buildings)
   เนโฌเธ Teachers: 56 (8 departments)
   เนโฌเธ Subjects: 82 subjects
     - Core (8 learning areas): 48
     - Additional (track-specific): 25
     - Activities (MOE-compliant): 9
   เนโฌเธ Timeslots: 40 (5 days เธฃโ 8 periods)
   เนโฌเธ Teacher Responsibilities: 24
   เนโฌเธ Sample Locked Schedules: 0
   เนโฌเธ Table Configurations: 1
======================================================================

เนยเธ Your MOE-compliant database is ready!
เนยโเธ Features included:
   - เนยโฆ Retry logic for Docker Desktop connection stability
   - เนยโฆ MOE 8 Learning Areas structure
   - เนยโฆ Proper ActivityType (เนเธยเนเธเธเนเธเธเนเธยเนเธเธเนเธเธ, เนเธเธเนเธเธเนเธยเนเธโฌเนเธเธเนเธเธเนเธเธ, เนเธยเนเธยเนเธเธเนเธยเนเธยเนเธเธ, เนเธยเนเธเธเนเธยเนเธยเนเธเธเนเธเธเนเธเธเนเธโฌเนเธยเนเธเธเนเธยเนเธเธเนเธเธเนเธเธเนเธยเนเธยเนเธเธ)
   - เนยโฆ Three program tracks (เนเธเธเนเธเธเนเธโเนเธเธเนเธย-เนเธยเนเธโเนเธเธเนเธโข, เนเธเธเนเธเธเนเธเธเนเธยเนเธย-เนเธยเนเธเธเนเธยเนเธเธเนเธโ, เนเธเธเนเธเธเนเธเธเนเธยเนเธย-เนเธยเนเธเธเนเธเธเนเธเธ)
   - เนยโฆ Realistic teacher workload (1-3 subjects per Ministry standard)
   - เนยโฆ Locked timeslots for school-wide activities
   - เนยโฆ Grade-program assignments
======================================================================

เนยโฆ Test environment ready!

   Database: postgresql://localhost:5433/test_timetable
   Tests: 27 E2E tests ready to run

[2m[WebServer] [22m GET / [32m200[39m in 25.3s[2m (compile: 18.0s, render: 7.3s)[22m

Running 2 tests using 1 worker

[dotenv@17.2.3] injecting env (0) from .env.test -- tip: เนยยเนเธย  write to custom object with { processEnv: myObject }
[AUTH SETUP] Starting authentication flow...
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m GET /signin [32m200[39m in 2.7s[2m (compile: 2.4s, render: 294ms)[22m
[BROWSER] info: %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[BROWSER] log: %c%s%c [AUTH] Dev bypass - returning mock admin session background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px  Server  
[BROWSER] log: [HMR] connected
[BROWSER] log: [Fast Refresh] rebuilding
[BROWSER] log: [Fast Refresh] done in 684ms
[AUTH SETUP] Navigated to signin page
[BROWSER] log: [SIGNIN PAGE] Fetching dev-bypass-enabled status...
[BROWSER] log: [Fast Refresh] rebuilding
[BROWSER] log: %c[Vercel Speed Insights]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[2m[WebServer] [22m [37m[1mเนโย[22m[39m Compiling /dashboard ...
[2m[WebServer] [22m[DEV-BYPASS-API] Environment check: {
[2m[WebServer] [22m  NEXT_PUBLIC_ENABLE_DEV_BYPASS: [32m'true'[39m,
[2m[WebServer] [22m  ENABLE_DEV_BYPASS: [32m'true'[39m,
[2m[WebServer] [22m  enabled: [33mtrue[39m
[2m[WebServer] [22m}
[2m[WebServer] [22m GET /api/auth/dev-bypass-enabled [32m200[39m in 3.9s[2m (compile: 3.9s, render: 58ms)[22m
[BROWSER] log: [SIGNIN PAGE] Dev bypass enabled response: {enabled: true}
[BROWSER] log: [Fast Refresh] done in 9272ms
[2m[WebServer] [22m GET /dashboard [32m200[39m in 9.3s[2m (compile: 9.2s, render: 88ms)[22m
[BROWSER] log: [Fast Refresh] rebuilding
[BROWSER] log: %c[Vercel Speed Insights]%c [vitals] color: rgb(120, 120, 120) color: inherit {speed: 4g, metrics: Array(2), scriptVersion: 0.1.3, sdkName: @vercel/speed-insights/next, sdkVersion: 1.2.0}
[2m[WebServer] [22m POST /dashboard [32m200[39m in 267ms[2m (compile: 15ms, render: 252ms)[22m
[BROWSER] log: [Fast Refresh] done in 679ms
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[BROWSER] log: %c%s%c [AUTH] Dev bypass - returning mock admin session background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px  Server  
[2m[WebServer] [22m GET /dashboard [32m200[39m in 113ms[2m (compile: 43ms, render: 70ms)[22m
[2m[WebServer] [22m POST /dashboard [32m200[39m in 91ms[2m (compile: 16ms, render: 75ms)[22m
[2m[WebServer] [22m POST /dashboard [32m200[39m in 50ms[2m (compile: 15ms, render: 35ms)[22m
[2m[WebServer] [22m POST /dashboard [32m200[39m in 65ms[2m (compile: 11ms, render: 54ms)[22m
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m GET /dashboard [32m200[39m in 86ms[2m (compile: 15ms, render: 71ms)[22m
[BROWSER] log: %c%s%c [AUTH] Dev bypass - returning mock admin session background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px  Server  
[2m[WebServer] [22m POST /dashboard [32m200[39m in 59ms[2m (compile: 7ms, render: 52ms)[22m
[2m[WebServer] [22m POST /dashboard [32m200[39m in 40ms[2m (compile: 6ms, render: 34ms)[22m
[2m[WebServer] [22m POST /dashboard [32m200[39m in 67ms[2m (compile: 10ms, render: 57ms)[22m
[AUTH SETUP] Already authenticated, skipping login
[BROWSER] log: [Fast Refresh] rebuilding
[BROWSER] log: [Fast Refresh] done in 2057ms
[BROWSER] log: [Fast Refresh] rebuilding
[BROWSER] log: [Fast Refresh] done in 317ms
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[BROWSER] log: %c[Vercel Speed Insights]%c [vitals] color: rgb(120, 120, 120) color: inherit {speed: 4g, metrics: Array(1), scriptVersion: 0.1.3, sdkName: @vercel/speed-insights/next, sdkVersion: 1.2.0}
[BROWSER] log: %c[Vercel Speed Insights]%c [vitals] color: rgb(120, 120, 120) color: inherit {speed: 4g, metrics: Array(1), scriptVersion: 0.1.3, sdkName: @vercel/speed-insights/next, sdkVersion: 1.2.0}
[BROWSER] info: %cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools font-weight:bold
[BROWSER] log: %c%s%c [AUTH] Dev bypass - returning mock admin session background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px  Server  
[BROWSER] log: [HMR] connected
[2m[WebServer] [22m GET /dashboard/1-2567 [32m200[39m in 4.3s[2m (compile: 3.4s, render: 906ms)[22m
[BROWSER] log: [Fast Refresh] rebuilding
[BROWSER] log: [Fast Refresh] done in 315ms
[2m[WebServer] [22m POST /dashboard/1-2567 [32m200[39m in 70ms[2m (compile: 24ms, render: 46ms)[22m
[BROWSER] log: %c[Vercel Speed Insights]%c Debug mode is enabled by default in development. No requests will be sent to the server. color: rgb(120, 120, 120) color: inherit
[AUTH SETUP] Waiting for semester sync (already authenticated path)...
[BROWSER] warning: The resource http://localhost:3000/_next/static/media/usericon.875ee6a6.svg was preloaded using link preload but not used within a few seconds from the window's load event. Please make sure it has an appropriate `as` value and it is preloaded intentionally.
[AUTH SETUP] Timeout waiting for semester-storage
[AUTH SETUP] Current storage value: [1mnull[22m
[AUTH SETUP] Manually setting semester-storage as fallback
[AUTH SETUP] Verified semester storage: {"state":{"semester":"1-2567"},"version":0}
[AUTH SETUP] Saved existing auth + semester state to B:\Dev\school-timetable-senior-project\playwright\.auth\admin.json
[BROWSER] log: [Fast Refresh] rebuilding
  เนยโ  1 [setup] เนโฌเธ e2e\auth.setup.ts:27:6 เนโฌเธ authenticate as admin (34.6s)
[dotenv@17.2.3] injecting env (0) from .env.test -- tip: เนยโย add secrets lifecycle management: https://dotenvx.com/ops
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m GET /dashboard/1-2567 [32m200[39m in 805ms[2m (compile: 23ms, render: 782ms)[22m
[2m[WebServer] [22m POST /dashboard/1-2567 [32m200[39m in 43ms[2m (compile: 4ms, render: 39ms)[22m
[2m[WebServer] [22m [37m[1mเนโย[22m[39m Compiling /schedule/[semesterAndyear]/arrange ...
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m GET /schedule/1-2567/arrange [32m200[39m in 12.2s[2m (compile: 11.1s, render: 1053ms)[22m
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m GET /schedule/1-2567/arrange [32m200[39m in 569ms[2m (compile: 30ms, render: 539ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 131ms[2m (compile: 7ms, render: 124ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 71ms[2m (compile: 11ms, render: 60ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 38ms[2m (compile: 8ms, render: 30ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 115ms[2m (compile: 10ms, render: 105ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 101ms[2m (compile: 72ms, render: 29ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 38ms[2m (compile: 6ms, render: 33ms)[22m
[2m[WebServer] [22m[AUTH] Dev bypass - returning mock admin session
[2m[WebServer] [22m POST /schedule/1-2567/arrange [32m200[39m in 648ms[2m (compile: 8ms, render: 639ms)[22m
[2m[WebServer] [22m GET /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 1027ms[2m (compile: 44ms, render: 984ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 51ms[2m (compile: 6ms, render: 45ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 43ms[2m (compile: 6ms, render: 38ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 67ms[2m (compile: 7ms, render: 60ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 39ms[2m (compile: 8ms, render: 31ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 26ms[2m (compile: 6ms, render: 19ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 42ms[2m (compile: 25ms, render: 17ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 36ms[2m (compile: 5ms, render: 30ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 37ms[2m (compile: 10ms, render: 27ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 172ms[2m (compile: 23ms, render: 149ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 178ms[2m (compile: 68ms, render: 110ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 195ms[2m (compile: 26ms, render: 169ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 73ms[2m (compile: 20ms, render: 53ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 150ms[2m (compile: 65ms, render: 85ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 48ms[2m (compile: 11ms, render: 37ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 24ms[2m (compile: 6ms, render: 18ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 197ms[2m (compile: 34ms, render: 164ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 118ms[2m (compile: 47ms, render: 72ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 113ms[2m (compile: 7ms, render: 106ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 122ms[2m (compile: 57ms, render: 64ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 110ms[2m (compile: 17ms, render: 94ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 44ms[2m (compile: 16ms, render: 28ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 65ms[2m (compile: 9ms, render: 56ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 46ms[2m (compile: 23ms, render: 23ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 47ms[2m (compile: 25ms, render: 22ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 28ms[2m (compile: 7ms, render: 21ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 35ms[2m (compile: 8ms, render: 27ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 48ms[2m (compile: 5ms, render: 42ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 173ms[2m (compile: 31ms, render: 142ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 109ms[2m (compile: 26ms, render: 83ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 29ms[2m (compile: 7ms, render: 23ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 32ms[2m (compile: 16ms, render: 16ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 33ms[2m (compile: 10ms, render: 23ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 47ms[2m (compile: 10ms, render: 36ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 70ms[2m (compile: 14ms, render: 56ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 58ms[2m (compile: 9ms, render: 48ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 39ms[2m (compile: 11ms, render: 28ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 39ms[2m (compile: 10ms, render: 29ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 29ms[2m (compile: 7ms, render: 22ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 30ms[2m (compile: 12ms, render: 18ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 38ms[2m (compile: 7ms, render: 31ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 49ms[2m (compile: 18ms, render: 31ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 141ms[2m (compile: 32ms, render: 109ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 34ms[2m (compile: 7ms, render: 27ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 87ms[2m (compile: 22ms, render: 65ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 82ms[2m (compile: 46ms, render: 36ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 51ms[2m (compile: 8ms, render: 44ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 36ms[2m (compile: 17ms, render: 19ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 39ms[2m (compile: 6ms, render: 34ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 56ms[2m (compile: 10ms, render: 47ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 74ms[2m (compile: 34ms, render: 40ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 42ms[2m (compile: 15ms, render: 27ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 54ms[2m (compile: 15ms, render: 40ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 60ms[2m (compile: 18ms, render: 42ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 61ms[2m (compile: 6ms, render: 55ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 66ms[2m (compile: 8ms, render: 58ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 59ms[2m (compile: 10ms, render: 49ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 48ms[2m (compile: 15ms, render: 33ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 38ms[2m (compile: 6ms, render: 32ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 39ms[2m (compile: 14ms, render: 25ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 36ms[2m (compile: 14ms, render: 22ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 63ms[2m (compile: 32ms, render: 31ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 52ms[2m (compile: 23ms, render: 29ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 68ms[2m (compile: 17ms, render: 51ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 46ms[2m (compile: 9ms, render: 37ms)[22m
[2m[WebServer] [22m POST /schedule/1-2567/arrange?TeacherID=1 [32m200[39m in 98ms[2m (compile: 39ms, render: 59ms)[22m
  เนยย  2 [chromium] เนโฌเธ e2e\tests\admin\schedule-assignment.spec.ts:71:7 เนโฌเธ Admin: Schedule Assignment - Basic Operations เนโฌเธ should successfully assign subject to empty timeslot (30.3s)

เนยเธเธ E2E Test Teardown: Cleaning up...

เนยเธเนเธย  Test database managed externally - skipping cleanup



  1) [chromium] เนโฌเธ e2e\tests\admin\schedule-assignment.spec.ts:71:7 เนโฌเธ Admin: Schedule Assignment - Basic Operations เนโฌเธ should successfully assign subject to empty timeslot 

    [31mTest timeout of 30000ms exceeded.[39m

    Error: locator.boundingBox: Target page, context or browser has been closed

       at page-objects\ArrangePage.ts:259

      257 |     
      258 |     // Get bounding boxes for precise drag
    > 259 |     const subjectBox = await subject.boundingBox();
          |                                      ^
      260 |     const targetBox = await target.boundingBox();
      261 |     
      262 |     if (!subjectBox || !targetBox) {
        at ArrangePage.dragSubjectToTimeslot (B:\Dev\school-timetable-senior-project\e2e\page-objects\ArrangePage.ts:259:38)
        at B:\Dev\school-timetable-senior-project\e2e\tests\admin\schedule-assignment.spec.ts:78:23

    attachment #1: screenshot (image/png) เนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌ
    test-results\artifacts\tests-admin-schedule-assig-6e102-n-subject-to-empty-timeslot-chromium\test-failed-1.png
    เนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌ

    attachment #2: video (video/webm) เนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌ
    test-results\artifacts\tests-admin-schedule-assig-6e102-n-subject-to-empty-timeslot-chromium\video.webm
    เนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌเนโโฌ

    Error Context: test-results\artifacts\tests-admin-schedule-assig-6e102-n-subject-to-empty-timeslot-chromium\error-context.md

  1 failed
    [chromium] เนโฌเธ e2e\tests\admin\schedule-assignment.spec.ts:71:7 เนโฌเธ Admin: Schedule Assignment - Basic Operations เนโฌเธ should successfully assign subject to empty timeslot 
  1 passed (1.7m)
[33m
เนยยเนเธย  Tests completed with exit code: 1
[0m
เนโฌยELIFECYCLEเนโฌย Command failed with exit code 1.
