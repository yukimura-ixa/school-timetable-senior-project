# ====================
# GitHub CI Environment
# ====================
# This file contains environment variables for GitHub Actions CI
# Secrets should be stored in GitHub repository secrets

# ====================
# Database (GitHub CI)
# ====================
# Uses PostgreSQL service container
# See: .github/workflows/*.yml for service configuration
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/test_timetable?schema=public&connect_timeout=10"

# Alternative: Use docker-compose.test.yml
# DATABASE_URL="postgresql://test_user:test_password@127.0.0.1:5433/test_timetable?schema=public&connection_limit=5"

# ====================
# Auth.js v5 (NextAuth)
# ====================
# ⚠️ Set in GitHub Secrets: AUTH_SECRET
# Generate with: openssl rand -base64 32
AUTH_SECRET="${AUTH_SECRET}"

# CI server URL
AUTH_URL="http://localhost:3000"
NEXTAUTH_URL="http://localhost:3000"

# ====================
# Google OAuth (CI)
# ====================
# ⚠️ Set in GitHub Secrets:
# - AUTH_GOOGLE_ID
# - AUTH_GOOGLE_SECRET
AUTH_GOOGLE_ID="${AUTH_GOOGLE_ID}"
AUTH_GOOGLE_SECRET="${AUTH_GOOGLE_SECRET}"

# ====================
# Development Bypass (CI Testing)
# ====================
# Enable auth bypass for E2E tests in CI
ENABLE_DEV_BYPASS="true"
NEXT_PUBLIC_ENABLE_DEV_BYPASS="true"

# Test user credentials
DEV_USER_ID="1"
DEV_USER_EMAIL="ci@test.local"
DEV_USER_NAME="CI Test User"
DEV_USER_ROLE="admin"

# E2E Test credentials
TEST_PASSWORD="test-password-for-e2e"

# ====================
# Seed API Secret (CI)
# ====================
# Used for seed endpoint testing
SEED_SECRET="df83c9b4a1e2f5d6c3a8b9e0f1d2c3a4b5c6d7e8f9a0b1c2d3e4f5a6b7c8d9e0"

# ====================
# CI Settings
# ====================
# Node environment
NODE_ENV="test"

# CI indicator
CI="true"

# Disable telemetry
NEXT_TELEMETRY_DISABLED="1"

# Playwright settings
PLAYWRIGHT_SKIP_BROWSER_DOWNLOAD="0"

# ====================
# Test Configuration
# ====================
# E2E test server URL
BASE_URL="http://localhost:3000"

# Skip webserver start (handled by CI workflow)
SKIP_WEBSERVER=""

# Database management
AUTO_MANAGE_TEST_DB="false"  # CI uses service containers instead
